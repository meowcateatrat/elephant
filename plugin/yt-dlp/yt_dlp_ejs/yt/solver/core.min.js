/*!
 * SPDX-License-Identifier: Unlicense
 * This file was automatically generated by https://github.com/yt-dlp/ejs
 */
var jsc=function(e,t){"use strict";function n(e,t){if(Array.isArray(t))return!!Array.isArray(e)&&(t.length===e.length&&t.every((t,r)=>n(e[r],t)));if("object"==typeof t){if(!e)return!t;if("or"in t)return t.or.some(t=>n(e,t));if("anykey"in t&&Array.isArray(t.anykey)){const r=Array.isArray(e)?e:Object.values(e);return t.anykey.every(e=>r.some(t=>n(t,e)))}for(const[r,i]of Object.entries(t))if(!n(e[r],i))return!1;return!0}return t===e}function r(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...e)=>n.call(t,...e)),t=void 0)}return n}const i={type:"CallExpression",callee:{or:[{type:"Identifier"},{type:"SequenceExpression"}]},arguments:[{},{type:"CallExpression",callee:{type:"Identifier",name:"decodeURIComponent"},arguments:[{}]}]},o={type:"AssignmentExpression",left:{type:"Identifier"},operator:"=",right:i},s={type:"VariableDeclarator",id:{type:"Identifier"},init:i},p={type:"ExpressionStatement",expression:{type:"LogicalExpression",left:{type:"Identifier"},right:{type:"SequenceExpression",expressions:[{type:"AssignmentExpression",left:{type:"Identifier"},operator:"=",right:{type:"CallExpression",callee:{type:"Identifier"},arguments:{or:[[{type:"CallExpression",callee:{type:"Identifier",name:"decodeURIComponent"},arguments:[{type:"Identifier"}],optional:!1}],[{type:"Literal"},{type:"CallExpression",callee:{type:"Identifier",name:"decodeURIComponent"},arguments:[{type:"Identifier"}],optional:!1}],[{type:"Literal"},{type:"Literal"},{type:"CallExpression",callee:{type:"Identifier",name:"decodeURIComponent"},arguments:[{type:"Identifier"}],optional:!1}]]},optional:!1}},{type:"CallExpression"}]},operator:"&&"}},a={or:[{type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{or:[{type:"Identifier"},{type:"MemberExpression"}]},right:{type:"FunctionExpression"}}},{type:"FunctionDeclaration"},{type:"VariableDeclaration",declarations:{anykey:[{type:"VariableDeclarator",init:{type:"FunctionExpression"}}]}}]};function l(e){const t=[];if(n(e,a))if("ExpressionStatement"===e.type&&"AssignmentExpression"===e.expression.type&&"FunctionExpression"===e.expression.right.type&&e.expression.right.params.length>=3)t.push(e.expression.right.body);else if("VariableDeclaration"===e.type)for(const n of e.declarations)"FunctionExpression"===r([n,"access",e=>e.init,"optionalAccess",e=>e.type])&&n.init.params.length>=3&&t.push(n.init.body);else{if(!("FunctionDeclaration"===e.type&&e.params.length>=3))return null;t.push(e.body)}else{if("ExpressionStatement"!==e.type||"SequenceExpression"!==e.expression.type)return null;for(const n of e.expression.expressions)"AssignmentExpression"===n.type&&"FunctionExpression"===n.right.type&&3===n.right.params.length&&t.push(n.right.body)}for(const e of t){let t=null;for(const i of e.body){if(n(i,p))"ExpressionStatement"===i.type&&"LogicalExpression"===i.expression.type&&"SequenceExpression"===i.expression.right.type&&"AssignmentExpression"===i.expression.right.expressions[0].type&&"CallExpression"===i.expression.right.expressions[0].right.type&&(t=i.expression.right.expressions[0].right);else if("IfStatement"===i.type){let e=i.consequent;for(;"LabeledStatement"===e.type;)e=e.body;if("BlockStatement"!==e.type)continue;for(const i of e.body)if("VariableDeclaration"===i.type){for(const e of i.declarations)if(n(e,s)&&"CallExpression"===r([e,"access",e=>e.init,"optionalAccess",e=>e.type])){t=e.init;break}if(t)break}}else if("ExpressionStatement"===i.type){if("LogicalExpression"!==i.expression.type||"&&"!==i.expression.operator||"SequenceExpression"!==i.expression.right.type)continue;for(const e of i.expression.right.expressions)if(n(e,o)&&e.type&&"AssignmentExpression"===e.type&&"CallExpression"===e.right.type){t=e.right;break}}if(t)break}if(t)return{type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"sig"}],body:{type:"CallExpression",callee:t.callee,arguments:t.arguments.map(e=>"CallExpression"===e.type&&"Identifier"===e.callee.type&&"decodeURIComponent"===e.callee.name?{type:"Identifier",name:"sig"}:e),optional:!1},async:!1,expression:!1,generator:!1}}return null}function y(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...e)=>n.call(t,...e)),t=void 0)}return n}const c={or:[{type:"VariableDeclaration",kind:"var",declarations:{anykey:[{type:"VariableDeclarator",id:{type:"Identifier"},init:{type:"ArrayExpression",elements:[{type:"Identifier"}]}}]}},{type:"ExpressionStatement",expression:{type:"AssignmentExpression",left:{type:"Identifier"},operator:"=",right:{type:"ArrayExpression",elements:[{type:"Identifier"}]}}}]},u=[{type:"ReturnStatement",argument:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier"},computed:!0,property:{type:"Literal"},optional:!1},right:{type:"Identifier"},operator:"+"}}];function f(e){if(!n(e,c)){let t=null,r=null;switch(e.type){case"ExpressionStatement":"AssignmentExpression"===e.expression.type&&"Identifier"===e.expression.left.type&&"FunctionExpression"===e.expression.right.type&&1===e.expression.right.params.length&&(t=e.expression.left.name,r=e.expression.right.body);break;case"FunctionDeclaration":1===e.params.length&&(t=y([e,"access",e=>e.id,"optionalAccess",e=>e.name]),r=e.body)}if(!r||!t)return null;const i=r.body.at(-2);if("TryStatement"!==y([i,"optionalAccess",e=>e.type])||"CatchClause"!==y([i,"access",e=>e.handler,"optionalAccess",e=>e.type]))return null;return n(i.handler.body.body,u)?m(t):null}if("VariableDeclaration"===e.type)for(const t of e.declarations){if("VariableDeclarator"!==t.type||!t.init||"ArrayExpression"!==t.init.type||1!==t.init.elements.length)continue;const[e]=t.init.elements;if(e&&"Identifier"===e.type)return m(e.name)}else if("ExpressionStatement"===e.type){const t=e.expression;if("AssignmentExpression"===t.type&&"Identifier"===t.left.type&&"="===t.operator&&"ArrayExpression"===t.right.type&&1===t.right.elements.length){const[e]=t.right.elements;if(e&&"Identifier"===e.type)return m(e.name)}}return null}function m(e){return{type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"n"}],body:{type:"CallExpression",callee:{type:"Identifier",name:e},arguments:[{type:"Identifier",name:"n"}],optional:!1},async:!1,expression:!1,generator:!1}}const d=e.parse('\nif (typeof globalThis.XMLHttpRequest === "undefined") {\n    globalThis.XMLHttpRequest = { prototype: {} };\n}\nconst window = Object.create(null);\nif (typeof URL === "undefined") {\n    window.location = {\n        hash: "",\n        host: "www.youtube.com",\n        hostname: "www.youtube.com",\n        href: "https://www.youtube.com/watch?v=yt-dlp-wins",\n        origin: "https://www.youtube.com",\n        password: "",\n        pathname: "/watch",\n        port: "",\n        protocol: "https:",\n        search: "?v=yt-dlp-wins",\n        username: "",\n    };\n} else {\n    window.location = new URL("https://www.youtube.com/watch?v=yt-dlp-wins");\n}\nif (typeof globalThis.document === "undefined") {\n    globalThis.document = Object.create(null);\n}\nif (typeof globalThis.navigator === "undefined") {\n    globalThis.navigator = Object.create(null);\n}\nif (typeof globalThis.self === "undefined") {\n    globalThis.self = globalThis;\n}\n').body;function x(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],o=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((...e)=>n.call(t,...e)),t=void 0)}return n}function g(n){const r=e.parse(n),i=function(e){const t=e.body,n=(()=>{switch(t.length){case 1:{const e=t[0];if("ExpressionStatement"===x([e,"optionalAccess",e=>e.type])&&"CallExpression"===e.expression.type&&"MemberExpression"===e.expression.callee.type&&"FunctionExpression"===e.expression.callee.object.type)return e.expression.callee.object.body;break}case 2:{const e=t[1];if("ExpressionStatement"===x([e,"optionalAccess",e=>e.type])&&"CallExpression"===e.expression.type&&"FunctionExpression"===e.expression.callee.type){const t=e.expression.callee.body;return t.body.splice(0,1),t}break}}throw"unexpected structure"})();return n.body=n.body.filter(e=>"ExpressionStatement"!==e.type||("AssignmentExpression"===e.expression.type||"Literal"===e.expression.type)),n.body}(r),o=function(e){const t={n:[],sig:[]};for(const n of e){const e=f(n);e&&t.n.push(e);const r=l(n);r&&t.sig.push(r)}return t}(i);for(const[e,t]of Object.entries(o))i.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:{type:"MemberExpression",computed:!1,object:{type:"Identifier",name:"_result"},property:{type:"Identifier",name:e},optional:!1},right:b(t)}});return r.body.splice(0,0,...d),t.generate(r)}function b(e){return{type:"ArrowFunctionExpression",params:[{type:"Identifier",name:"_input"}],body:{type:"BlockStatement",body:[{type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"_results"},init:{type:"NewExpression",callee:{type:"Identifier",name:"Set"},arguments:[]}}]},{type:"ForOfStatement",left:{type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"_generator"},init:null}]},right:{type:"ArrayExpression",elements:e},body:{type:"BlockStatement",body:[{type:"TryStatement",block:{type:"BlockStatement",body:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"_results"},computed:!1,property:{type:"Identifier",name:"add"},optional:!1},arguments:[{type:"CallExpression",callee:{type:"Identifier",name:"_generator"},arguments:[{type:"Identifier",name:"_input"}],optional:!1}],optional:!1}}]},handler:{type:"CatchClause",param:null,body:{type:"BlockStatement",body:[]}},finalizer:null}]},await:!1},{type:"IfStatement",test:{type:"UnaryExpression",operator:"!",argument:{type:"MemberExpression",object:{type:"Identifier",name:"_results"},computed:!1,property:{type:"Identifier",name:"size"},optional:!1},prefix:!0},consequent:{type:"BlockStatement",body:[{type:"ThrowStatement",argument:{type:"TemplateLiteral",expressions:[],quasis:[{type:"TemplateElement",value:{cooked:"no solutions",raw:"no solutions"},tail:!0}]}}]},alternate:null},{type:"IfStatement",test:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"_results"},computed:!1,property:{type:"Identifier",name:"size"},optional:!1},right:{type:"Literal",value:1},operator:"!=="},consequent:{type:"BlockStatement",body:[{type:"ThrowStatement",argument:{type:"TemplateLiteral",expressions:[{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"_results"},computed:!1,property:{type:"Identifier",name:"join"},optional:!1},arguments:[{type:"Literal",value:", "}],optional:!1}],quasis:[{type:"TemplateElement",value:{cooked:"invalid solutions: ",raw:"invalid solutions: "},tail:!1},{type:"TemplateElement",value:{cooked:"",raw:""},tail:!0}]}}]},alternate:null},{type:"ReturnStatement",argument:{type:"MemberExpression",object:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"_results"},computed:!1,property:{type:"Identifier",name:"values"},optional:!1},arguments:[],optional:!1},computed:!1,property:{type:"Identifier",name:"next"},optional:!1},arguments:[],optional:!1},computed:!1,property:{type:"Identifier",name:"value"},optional:!1}}]},async:!1,expression:!1,generator:!1}}return function(e){const t="player"===e.type?g(e.player):e.preprocessed_player,n=function(e){const t={n:null,sig:null};return Function("_result",e)(t),t}(t),r={type:"result",responses:e.requests.map(e=>{if(!function(e,...t){return t.includes(e)}(e.type,"n","sig"))return{type:"error",error:`Unknown request type: ${e.type}`};const t=n[e.type];if(!t)return{type:"error",error:`Failed to extract ${e.type} function`};try{return{type:"result",data:Object.fromEntries(e.challenges.map(e=>[e,t(e)]))}}catch(e){return{type:"error",error:e instanceof Error?`${e.message}\n${e.stack}`:`${e}`}}})};return"player"===e.type&&e.output_preprocessed&&(r.preprocessed_player=t),r}}(meriyah,astring);